---
title: 运维-搜索引擎安装 迅搜
author: 小敏-mingo
tags:
  - 搜索引擎
  - 迅搜
categories:
  - IT
  - 运维
abbrlink: '87988452'
date: 2019-03-06 14:38:01
---
开源免费、高性能、多功能
简单易用的专业全文检索技术方案
帮助一般开发者针对既有的海量数据，快速而方便地建立自己的全文搜索引擎。全文检索可以帮助您降低服务器搜索负荷、极大程度的提高搜索速度和用户体验
<!-- more -->

## 安装
```
# 下面命令中的 $prefix 请务必替换为您的安装目录

# 下载、解压安装包
[user@server opt]# wget http://www.xunsearch.com/download/xunsearch-full-latest.tar.bz2
[user@server opt]# tar -xjf xunsearch-full-latest.tar.bz2

# 执行安装脚本，根据提示进行操作
[user@server opt]# cd xunsearch-full-1.4.13/
[user@server xunsearch-full-1.4.13]# sh setup.sh

# 建立数据文件夹软链
# 搜索系统将所有数据保存在 $prefix/data 目录中。 如果您希望数据目录另行安排或转移至其它分区，请将 $prefix/data 作为软链接指向真实目录。
[user@server xunsearch]# ln -s /data/xunsearch/data /opt/xunsearch/data

# 启动，重启，停止命令
$prefix/bin/xs-ctl.sh start
$prefix/bin/xs-ctl.sh restart
$prefix/bin/xs-ctl.sh stop

# 启动脚本参数
bin/xs-ctl.sh -b local start    // 监听在本地回环地址 127.0.0.1 上
bin/xs-ctl.sh -b inet start     // 监听在所有本地 IP 地址上
bin/xs-ctl.sh -b a.b.c.d start  // 监听在指定 IP 上
bin/xs-ctl.sh -b unix start     // 分别监听在 tmp/indexd.sock 和 tmp/searchd.sock
```

## 设置开机启动
mkdir -p /var/log/xunsearch/
vim /etc/supervisord.d/xunsearch.ini
```
[program:xunsearch]
command=/opt/xunsearch/bin/xs-ctl.sh -b inet start
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/xunsearch/xunsearch.log
```

## 常见错误
```
# 未安装 C 语言编译器
configure: error: in `/root/xunsearch-full-1.4.13/scws-1.2.3':
configure: error: no acceptable C compiler found in $PATH

# 安装 gcc
yum install gcc*
```

```
# 未安装 zlib-devel 库
configure: error: zlib.h not found - required for chert and glass (you may need to install the zlib1g-dev or zlib-devel package)

# 安装 zlib-devel
yum install zlib-devel
```